<!DOCTYPE html>

<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="generator" content="Jekyll v3.3.1">
		
		<link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
	    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		<link rel="stylesheet" href="/css/main.css">
		<link rel="apple-touch-icon" href="/apple-touch-icon.png">
		<link rel="icon" type="image/png" href="/touch-icon.png" sizes="192x192">
		<!-- <link rel="icon" type="image/png" href="/images/favicon.png"> -->
		<link rel="icon" type="image/svg+xml" href="/images/squares.svg">

		<link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="BlackBox API" />
		<!-- Begin Jekyll SEO tag v2.0.0 -->
<title>Tokens de Acesso - BlackBox API</title>
<meta property="og:title" content="Tokens de Acesso" />
<meta name="description" content="As APIs BlackBox utilizam o protocolo padrão de mercado OAuth 2.0 para autorização de acesso a seus recursos." />
<meta property="og:description" content="As APIs BlackBox utilizam o protocolo padrão de mercado OAuth 2.0 para autorização de acesso a seus recursos." />
<link rel="canonical" href="http://localhost:4000/auth/oauth/" />
<meta property="og:url" content="http://localhost:4000/auth/oauth/" />
<meta property="og:site_name" content="BlackBox API" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-09-10T23:41:43-03:00" />
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "Tokens de Acesso",
    "datePublished": "2017-09-10T23:41:43-03:00",
    "description": "As APIs BlackBox utilizam o protocolo padrão de mercado OAuth 2.0 para autorização de acesso a seus recursos.",
    "logo": "http://localhost:4000/siteicon.png",
    "url": "http://localhost:4000/auth/oauth/"
  }
</script>
<!-- End Jekyll SEO tag -->

		
	</head>

	<body>
		<header>
			<h1>
				<a href="/" class="header-link">BlackBox API</a>	
				<button type="button" class="open-nav" id="open-nav"></button>
			</h1>

			<form action="/search/" method="get">
				<input type="text" name="q" id="search-input" placeholder="Buscar" autofocus>
				<input type="submit" value="Buscar" style="display: none;">
			</form>

			<nav class="full-navigation">
				<ul>
					<li class="nav-item top-level ">
						
						<a href="/">Visão Geral</a>
					</li>
				</ul>

				<ul>
					
					
						<li class="nav-item top-level current">
							
							<a href="/auth/oauth/">Autenticação</a>
							<ul>
								
									<li class="nav-item current"><a href="/auth/oauth/">Tokens de Acesso</a></li>
								
							</ul>
						</li>
					
						<li class="nav-item top-level ">
							
							<a href="/cart/cart/">Carrinho de Compras</a>
							<ul>
								
									<li class="nav-item "><a href="/cart/cart/">Cart API</a></li>
								
									<li class="nav-item "><a href="/cart/cartitem/">Cart Item API</a></li>
								
							</ul>
						</li>
					
						<li class="nav-item top-level ">
							
							<a href="/catalog/product/">Catálogo de Produtos</a>
							<ul>
								
									<li class="nav-item "><a href="/catalog/product/">Product API</a></li>
								
									<li class="nav-item "><a href="/catalog/sku/">SKU API</a></li>
								
							</ul>
						</li>
					
						<li class="nav-item top-level ">
							
							<a href="/order/order/">Pedidos</a>
							<ul>
								
									<li class="nav-item "><a href="/order/order/">Order API</a></li>
								
							</ul>
						</li>
					
				</ul>

				<ul>
					<li class="nav-item top-level ">
						
						<a href="/changelog/">Releases</a>
					</li>
				</ul>
			</nav>
		</header>

		<section class="main">
			<div class="page-header">
				<!-- <h2>Autenticação</h2> -->
				<a name="title"></a>
				<h3>Tokens de Acesso</h3>
			</div>
			<article class="content">
				<p>As APIs BlackBox utilizam o protocolo padrão de mercado OAuth 2.0 para autorização de acesso a seus recursos.</p>

<p>Este documento descreve o fluxo necessário para que aplicações cliente obtenham tokens de acesso válidos para uso na plataforma.</p>

<blockquote>
  <p>Para saber mais sobre OAuth 2, consulte <a href="https://oauth.net/2/">https://oauth.net/2/</a></p>
</blockquote>

<p><a name="topo"></a></p>

<h3 id="obtenção-do-token-de-acesso">Obtenção do token de acesso</h3>

<p>O token de acesso é obtido através do fluxo de autorização <strong>Resource Owner Password Credentials</strong>. O diagrama a seguir ilustra, em ordem cronológica, a comunicação que se dá entre a <strong>Aplicação Cliente</strong>, o <strong>Servidor de Autorização</strong> e as APIs.</p>

<p><img src="http://localhost:4000/images/docs-blackboxapi-02.png" alt="Obtenção de Tokens de Acesso" class="centerimg" title="Fluxo para obtenção do Token de Acesso " /></p>

<ol>
  <li>
    <p>O usuário, através da <strong>Aplicação Cliente</strong>, informa ao <strong>Authorization Server</strong> suas credenciais de serviço.</p>
  </li>
  <li>
    <p>O <strong>Authorization Server</strong> valida a credencial recebida. Se for válida, retorna o token de acesso para a <strong>Aplicação Cliente</strong>.</p>
  </li>
  <li>
    <p>A <strong>Aplicação Cliente</strong> informa o token de acesso obtido no cabeçalho das requisições HTTP feitas às APIs.</p>
  </li>
  <li>
    <p>Se o token de acesso for válido, a requisição é processada e os dados são retornados para a <strong>Aplicação Cliente</strong>.</p>
  </li>
</ol>

<p><a name="http_operations"></a></p>

<h3 id="operações-http">Operações HTTP</h3>

<p><code class="http-post highlighter-rouge">POST</code> <a href="#post_oauth" class="custom-attrib">/oauth/token</a><br />
Criação de token de acesso para as APIs BlackBox.</p>

<p style="text-align: right;">
  <a href="#title"><i class="material-icons">expand_less</i></a>
</p>

<p><a name="post_oauth"></a></p>

<h3 id="post-oauthtoken"><strong>POST</strong> /oauth/token</h3>

<p><strong>DESCRIÇÃO:</strong><br />
Criação de token de acesso para as APIs BlackBox.</p>

<p><strong>PARÂMETROS NO CORPO:</strong></p>

<table>
  <thead>
    <tr>
      <th>Nome</th>
      <th style="text-align: left">Descrição</th>
      <th style="text-align: right"> </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>username</td>
      <td style="text-align: left">Nome único do SKU</td>
      <td style="text-align: right"><code class="highlighter-rouge">String</code> <code class="highlighter-rouge">64</code></td>
    </tr>
    <tr>
      <td>password</td>
      <td style="text-align: left">Descrição do SKU</td>
      <td style="text-align: right"><code class="highlighter-rouge">String</code> <code class="highlighter-rouge">1024</code></td>
    </tr>
    <tr>
      <td>grant_type</td>
      <td style="text-align: left">Habilita ou não o controle de estoque para o SKU</td>
      <td style="text-align: right"><code class="highlighter-rouge">Boolean</code></td>
    </tr>
  </tbody>
</table>

<p><strong>REQUEST:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="nf">POST</span> <span class="nn">/oauth/token</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">{blackbox endpoint}</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/x-www-form-urlencoded</span>
<span class="na">Cache-Control</span><span class="p">:</span> <span class="s">no-cache</span>

username={usuario}&amp;password={senha}&amp;grant_type=password
</code></pre>
</div>

<p><strong>RESPONSE:</strong></p>

<div class="language-http highlighter-rouge"><pre class="highlight"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json;charset=UTF-8</span>
</code></pre>
</div>
<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bearer"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">86399</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p style="text-align: right;">
  <a href="#title"><i class="material-icons">expand_less</i></a>
</p>

<hr />

			</article>
			<div class="page-footer">
				<span class="copyright">&copy; 2017 - Feito com <i class="material-icons copyright">favorite</i> pela <a class="copyright" href="http://www.braspag.com.br" style="font-weight: 400" target="_blank">Braspag</a></span>
			</div>
		</section>

		<script>
			document.getElementById("open-nav").addEventListener("click", function () {
				document.body.classList.toggle("nav-open");
			});
		</script>
	</body>
</html>
